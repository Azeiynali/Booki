<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Watercolor</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.12.0/paper-core.min.js"></script>
    <style>
        canvas {
            cursor: pointer;
        }
    </style>
</head>
<body>
    <canvas id="myCanvas" resize></canvas>

    <script>
        // ساختن کانوس
        paper.setup('myCanvas');

        // تعریف یک آرایه برای ذخیره‌ی نقاط قلم
        var path;
        var points = [];

        // تابع برای ایجاد مسیر و تغییر رنگ آن با حرکت موس
        function onMouseDrag(event) {
            var color = new paper.Color({
                hue: event.delta.length,
                saturation: 1,
                brightness: 1
            });
            path = new paper.Path.Circle({
                center: event.middlePoint,
                radius: event.delta.length / 2,
                fillColor: color,
                strokeColor: null
            });
            points.push(path);
            if (points.length > 10) {
                points.shift().remove();
            }
            for (var i = 0; i < points.length; i++) {
                var point = points[i];
                var lastPoint = points[points.length - 1];
                var pointColor = new paper.Color({
                    hue: lastPoint.position.getDistance(point.position) * 5,
                    saturation: 1,
                    brightness: 1
                });
                point.fillColor.hue += (pointColor.hue - point.fillColor.hue) / 10;
            }
        }

        // اجرای تابع onMouseDrag با حرکت موس
        paper.view.onMouseDrag = onMouseDrag;
    </script>
</body>
</html>
